<%
  ranked_players = @group.players.order(points: :desc, average: :desc, matches_played: :asc)
%>
<h1><%= @group.name %></h1>

<table class="table table-hover">
  <tr>
    <th>#</th>
    <th>Nome</th>
    <th style="text-align: center">Pontos</th>
    <th style="text-align: center">Nota</th>
    <th style="text-align: center">Partidas</th>
    <th style="text-align: center">Vitórias</th>
    <th style="text-align: center">Empates</th>
    <th style="text-align: center">Derrotas</th>
    <th style="text-align: center">Gols</th>
    <th style="text-align: center">Assistências</th>
    <th style="text-align: center">Defesas</th>
  </tr>
  <% ranked_players.each do |player| %>
    <tr>
      <td align="left">
        <%= ranked_players.index(player) + 1 %>º
      </td>
      <td align="left">
        <img src="<%= player.picture %>" class="img img-fluid" style="width: 20px">
        <%= player.nickname.present? ? player.nickname : player.name%>
      </td>
      <td align="center"><%= player.points %></td>
      <td align="center"><%= player.average %></td>
      <td align="center"><%= player.matches_played %></td>
      <td align="center"><%= player.matches_won %></td>
      <td align="center"><%= player.matches_drawn %></td>
      <td align="center"><%= player.matches_lost %></td>
      <td align="center"><%= player.goals %></td>
      <td align="center"><%= player.assists %></td>
      <td align="center"><%= player.saves %></td>
    </tr>
  <% end %>
</table>
